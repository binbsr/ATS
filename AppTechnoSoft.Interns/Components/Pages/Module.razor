@* <MudCard Elevation="5" Class="border-double border-4 mud-border-info">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">@Widget.Title</MudText>
                <MudText Typo="Typo.subtitle2">@Widget.Description</MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Warning" Href="@EditUrl" />
            </CardHeaderActions>
        </MudCardHeader>
        <MudCardContent>
            <MudContainer Class="px-4">
                <MudText Typo="Typo.body1">@((MarkupString)Widget.HtmlContent)</MudText>
            </MudContainer>
        </MudCardContent>
        <MudCardActions>
            <MudChipSet>
                @foreach (var tag in Widget.Tags)
                {
                    <MudChip Style=@("color:" + tag.ColorCode)>@tag.Name</MudChip>
                }
        </MudChipSet>
    </MudCardActions>
</MudCard> *@


<MudExpansionPanel @bind-IsExpanded="isOpen" HideIcon="true">
    <TitleContent>
        <div class="d-flex">
            <MudIcon Icon="@(isOpen ? Icons.Material.Sharp.HorizontalRule : Icons.Material.Sharp.Add)" Class="mr-2 mt-1"></MudIcon>
            <MudText Typo="Typo.h6">@Widget.Title</MudText>
                <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Warning" Size="Size.Small" Class="ml-auto" Href="@EditUrl" />

            </div>
        </TitleContent>
        <ChildContent>
            @((MarkupString)Widget.HtmlContent)
        </ChildContent>
    </MudExpansionPanel>

    @code {

    [Parameter]
    public Widget Widget { get; set; } = new();

    public string EditUrl => $"/edit-widget/{Widget.Id}";
    bool isOpen;
}
