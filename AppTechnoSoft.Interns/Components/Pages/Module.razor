<MudExpansionPanel @bind-IsExpanded="isOpen" HideIcon="true" Class="border-double border-3 mud-border-info">
    <TitleContent>
        <div class="d-flex">
            <MudIcon Icon="@(isOpen ? Icons.Material.Sharp.HorizontalRule : Icons.Material.Sharp.Add)" Class="mr-2 mt-1"></MudIcon>
            <MudText Typo="Typo.h6">@Widget.Description</MudText>
            <AuthorizeView Roles="Admin,SuperAdmin">
                <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Warning" Size="Size.Small" Class="ml-auto" Href="@EditUrl" />
            </AuthorizeView>
        </div>
    </TitleContent>
    <ChildContent>
        <MudContainer Style="font-size: 1.3em">
            @((MarkupString)Widget.HtmlContent)
        </MudContainer>
        <MudChipSet>
            @foreach (var tag in Widget.Tags)
            {
                <MudChip Style=@("color:" + tag.ColorCode)>@tag.Name</MudChip>
            }
        </MudChipSet>
    </ChildContent>
</MudExpansionPanel>

@code {

    [Parameter]
    public Widget Widget { get; set; } = new();

    public string EditUrl => $"/edit-widget/{Widget.Id}";
    bool isOpen;
}
