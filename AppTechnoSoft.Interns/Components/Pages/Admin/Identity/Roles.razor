@page "/identity/roles"

@inject RoleManager<IdentityRole> RoleManager

<MudTable Items="@roles" Hover="true" Loading="@loadingData">
    <ToolBarContent>
        <MudFab Href="/add-role" StartIcon="@Icons.Material.Filled.Add" Title="Add New Role" Size="Size.Small" Color="Color.Tertiary"></MudFab>        
    </ToolBarContent>
    <HeaderContent>
        <MudTh>#</MudTh>
        <MudTh>Role</MudTh>
        <MudTh>NormalizedName</MudTh>
        <MudTh>Concurrency Stamp</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="#">@(roles.IndexOf(context) + 1)</MudTd>
        <MudTd DataLabel="Name">@context.Name</MudTd>
            <MudTd DataLabel="NormalizedName">@context.NormalizedName</MudTd>
            <MudTd DataLabel="ConcurrencyStamp">@context.ConcurrencyStamp</MudTd>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>


    @code {

    List<IdentityRole> roles = new();
    bool loadingData = false;

    protected override async Task OnInitializedAsync()
    {
        loadingData = true;
        roles = await RoleManager.Roles.ToListAsync();
        loadingData = false;
    }
}
